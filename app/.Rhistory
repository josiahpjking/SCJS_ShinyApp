opacity=1,
showlegend=T) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(inherit=F,type="scatter",mode="line",line=list(color=~police_div,dash="solid"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~police_div,dash="dash"),
opacity=1,
showlegend=T) %>%
add_trace(inherit=F,type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
x=~year,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(inherit=F,type="scatter",mode="line",line=list(color=~police_div,dash="solid"),
y=~perc2,
x=~year,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~police_div,dash="dash"),
opacity=1,
showlegend=T) %>%
add_trace(inherit=F,type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
x=~year,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(inherit=F,type="scatter",mode="line",line=list(color=~police_div,dash="solid"),
y=~perc2,
x=~year,
split=~variable,
opacity=1,
showlegend=T)
plot_ly(plotdat,
inherit=F
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~police_div,dash="dash"),
opacity=1,
showlegend=T) %>%
add_trace(inherit=F,type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
x=~year,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(inherit=F,type="scatter",mode="line",line=list(color=~police_div,dash="solid"),
y=~perc2,
x=~year,
split=~variable,
opacity=1,
showlegend=T)
plot_ly(plotdat,
inherit=F,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~police_div,dash="dash"),
opacity=1,
showlegend=T) %>%
add_trace(inherit=F,type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
x=~year,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(inherit=F,type="scatter",mode="line",line=list(color=~police_div,dash="solid"),
y=~perc2,
x=~year,
split=~variable,
opacity=1,
showlegend=T)
plot_ly(plotdat,
inherit=F,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~police_div,dash="dash"),
opacity=1,
showlegend=T)
plot_ly(plotdat,
inherit=F,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~police_div,dash="dash"),
opacity=1,
showlegend=T) %>%
add_trace(inherit=F,type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
x=~year,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F)
plot_ly(plotdat,
inherit=F,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~police_div,dash="dash"),
opacity=1,
showlegend=T) %>%
add_trace(inherit=F,type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
x=~year,
opacity=1,
color=~change,colors=overview_cols,
showlegend=T) %>%
add_trace(inherit=F,type="scatter",mode="line",line=list(color=~police_div,dash="solid"),
y=~perc2,
x=~year,
split=~variable,
opacity=1,
showlegend=T)
plot_ly(plotdat,
inherit=F,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~police_div,dash="dash"),
opacity=1,
showlegend=T) %>%
add_markers(inherit=F,
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
x=~year,
opacity=1,
color=~change,colors=overview_cols,
showlegend=T) %>%
add_trace(inherit=F,type="scatter",mode="line",line=list(color=~police_div,dash="solid"),
y=~perc2,
x=~year,
split=~variable,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~variable,dash="dash"),
opacity=1,
showlegend=T) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color=~variable,dash="solid"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color=~variable,dash="dash"),
opacity=1,
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color=~variable,dash="solid"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color="black",dash="dash"),
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color=~variable,dash="solid"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color="black",dash="dash"),
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color=~variable,dash="solid"),
y=~perc2,
opacity=1,
fill="tonexty",
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color="black",dash="dash"),
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color=~variable,dash="solid"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color="black",dash="dash"),
colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color=~variable,dash="solid"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color="black",dash="dash"),
colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color=~variable,dash="dot"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color="black",dash="solid"),
colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color=~variable,dash="dot"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color="black",dash="solid"),
colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color="grey",dash="dot"),
y=~perc2,
opacity=1,
showlegend=T)
plot_ly(plotdat,
x=~year,
y=~perc1,
split=~variable,
type="scatter",mode="lines",
text=~my_text2, hoverinfo="text",
line=list(color="black",dash="solid"),
colors=overview_cols,
showlegend=F) %>%
add_trace(type="scatter",mode="marker",
marker = list(symbol=24, size = 20,opacity=1),
line=list(color=NULL,dash=NULL),
y=~perc2,
opacity=1,
color=~change,
showlegend=F) %>%
add_trace(type="scatter",mode="line",line=list(color="grey",dash="dot"),
y=~perc2,
opacity=1,
showlegend=F)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
sidebarLayout(
sidebarPanel(
conditionalPanel(
condition="input.plottingov == 'breakdown'",
htmlOutput('overview_1')
),
conditionalPanel(
condition="input.plottingov == 'trends'",
htmlOutput('overview_2')
),
selectizeInput("ov_var",label="Choose a section of the survey",choices=list("National Indicators"=all_vars[[1]],"Survey Sections"=names(all_vars)),multiple=F,selected=NULL),
conditionalPanel(
condition="input.plottingov == 'breakdown'",
selectizeInput("ov_year",label="Choose Year",choices=years,selected=years[length(years)],multiple=F)
),
conditionalPanel(
condition="input.plottingov == 'trends'",
selectizeInput("ov_pdiv",label="Choose Division",choices=pdivis,selected=pdivis[1],multiple=F)
),
uiOutput("variable_info")
),
mainPanel(
tabsetPanel(id="plottingov",selected="breakdown",
tabPanel(title="1 Year Breakdown",value="breakdown",
div(class="plot-container",
tags$img(src="spinner.gif", id="loading-spinner"),
plotlyOutput("ov_currentplot", height = "auto",width='100%')
),
tags$p("Click on the results of a division to see how it has performed over time.")
),
tabPanel(title="Within Division Trends",value="trends",
conditionalPanel(
condition="input.plottingov == 'trends'",
uiOutput("var_select2")
),
div(class="plot-container",
tags$img(src="spinner.gif", id="loading-spinner"),
plotlyOutput("ov_trendplot", height = "100%",width='100%')
),
tags$p("Click on the results of a year to see all divisions for that year."),
checkboxInput("showleg",label = "Show Legend",value=TRUE)
)
)
)
)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
round(1/2)
?round
ceiling(0)
ceiling(0.5)
ceiling(1/2)
ceiling(1/3)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
sidebarLayout(
sidebarPanel(
conditionalPanel(
condition="input.plottingov == 'breakdown'",
htmlOutput('overview_1')
),
conditionalPanel(
condition="input.plottingov == 'trends'",
htmlOutput('overview_2')
),
selectizeInput("ov_var",label="Choose a section of the survey",choices=list("National Indicators"=all_vars[[1]],"Survey Sections"=names(all_vars)),multiple=F,selected=NULL),
conditionalPanel(
condition="input.plottingov == 'breakdown'",
selectizeInput("ov_year",label="Choose Year",choices=years,selected=years[length(years)],multiple=F)
),
conditionalPanel(
condition="input.plottingov == 'trends'",
selectizeInput("ov_pdiv",label="Choose Division",choices=pdivis,selected=pdivis[1],multiple=F)
),
uiOutput("variable_info")
),
mainPanel(
tabsetPanel(id="plottingov",selected="breakdown",
tabPanel(title="1 Year Breakdown",value="breakdown",
div(class="plot-container",
tags$img(src="spinner.gif", id="loading-spinner"),
plotlyOutput("ov_currentplot", height = "auto",width='100%')
),
tags$p("Click on the results of a division to see how it has performed over time.")
),
tabPanel(title="Within Division Trends",value="trends",
div(class="plot-container",
tags$img(src="spinner.gif", id="loading-spinner"),
plotlyOutput("ov_trendplot", height = "100%",width='100%')
),
tags$p("Click on the results of a year to see all divisions for that year."),
checkboxInput("showleg",label = "Show Legend",value=TRUE),
uiOutput("var_select2")
)
)
)
)
runApp()
runApp()
runApp()
runApp()
